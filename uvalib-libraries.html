<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../polymer-jsonp/polymer-jsonp.html">

<!--
Element providing a listing of libraries at the University of Virginia.

##### Example

    <uvalib-libraries></uvalib-libraries>

@element uvalib-libraries
@blurb Element providing a listing of libraries at the University of Virginia.
@status alpha
@homepage http://uvalib-components.github.io/uvalib-libraries
-->
<polymer-element name="uvalib-libraries" attributes="library listing fields">

  <template>
    <polymer-jsonp auto url="{{url}}" response="{{rawLibraries}}" on-polymer-response="{{handleResponse}}"></polymer-jsonp>
  </template>

  <script>

    Polymer('uvalib-libraries', {
      /**
       * The optional `library` attribute sets a specific library
       * 
       * @attribute library
       * @type string
       * @default ""
       */
      author: "",

      /**
       * The optional `fields` attribute sets a specific set of fields to return the the libraries
       * 
       * @attribute fields
       * @type string (space seperated)
       * @default ""
       */
      fields: "",
      
      /**
       * `listing` is a attribute that returns a listing of libraries.
       * 
       * @attribute listing
       * @type Array
       * @default []
       */
      fancy: [],

      url: "http://www.library.virginia.edu/api/get_recent_posts?count=0&post_type=uvalib_library&callback=",


      /**
       * Fired when a the libraries info has been fetched.
       *
       * @event libraries-response
       */
      handleResponse: function(){
        this.fire('libraries-response', {});
      }

    });

  </script>

</polymer-element>
